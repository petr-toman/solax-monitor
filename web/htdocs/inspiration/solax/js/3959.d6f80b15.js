"use strict";(self["webpackChunksolax_cloud_new"]=self["webpackChunksolax_cloud_new"]||[]).push([[3959],{3959:function(e,s,r){r.r(s),r.d(s,{default:function(){return D}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"loginbox"},[t("div",{staticClass:"container"},[t("div",{staticClass:"formbox"},[t("div",{staticClass:"top_box"},[t("img",{attrs:{src:r(53122),id:"loginLogo"}}),t("div",{staticClass:"demoAndlang"},[e.v5DemoAndHelpShow?t("div",{staticStyle:{"margin-right":"30px"},on:{click:function(t){return e.handleCommand(1)}}},[t("img",{staticClass:"demoImg",attrs:{src:r(74105),alt:""}}),t("span",{staticStyle:{"vertical-align":"text-top"}},[e._v(e._s(e.$t("DEMO")))])]):e._e(),t("div",[t("loginSelectLang")],1)])]),t("div",{staticClass:"conten_box"},[e.flag?t("div",[t("div",{staticClass:"text"},[e._v("Hello!")]),e._m(0),t("el-form",{ref:"loginForm",attrs:{model:e.loginForm,rules:e.formRules}},[t("el-form-item",{staticClass:"usernamebox",attrs:{label:"",prop:"username"}},[t("i",{staticClass:"iconfont yonghuming userIcon"}),t("el-input",{on:{focus:e.showPaw,blur:function(t){return e.heidenPaw(.2)},input:e.heidenPaw},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username","string"===typeof t?t.trim():t)},expression:"loginForm.username"}}),t("transition",{attrs:{name:"pawbox"}},[e.pawlistShow?t("ul",e._l(e.pwdList,(function(s,r){return t("li",{key:r+"p",on:{click:function(t){return e.checkPaw(s)}}},[t("span",{staticStyle:{width:"50%"}},[e._v(e._s(s.username))]),t("span",[e._v("********")]),t("i",{staticClass:"iconfont guanbi-icon2",staticStyle:{"font-size":"12px"},on:{click:function(t){return t.stopPropagation(),e.removerPaw(r)}}})])})),0):e._e()])],1),t("el-input",{staticStyle:{display:"none"},attrs:{type:"password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),e.userNameList.length>0?t("el-form-item",{staticClass:"usernamebox",attrs:{slabel:"",prop:"username"}},[t("i",{staticClass:"iconfont yonghuming userIcon"}),t("el-select",{attrs:{placeholder:e.$t("Please_enter_username_email")},on:{change:e.getUserVersion},model:{value:e.loginForm.checkUsername,callback:function(t){e.$set(e.loginForm,"checkUsername","string"===typeof t?t.trim():t)},expression:"loginForm.checkUsername"}},e._l(e.userNameList,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1):e._e(),t("el-form-item",{attrs:{label:"",prop:"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}}},[t("i",{staticClass:"iconfont mima userIcon"}),t("el-input",{attrs:{type:"password","show-password":""},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password","string"===typeof t?t.trim():t)},expression:"loginForm.password"}})],1),e.errorMsg?t("p",{staticClass:"errorMsg",staticStyle:{color:"#F56C6C"}},[t("i",{staticClass:"iconfont tishi-icon"}),e._v(e._s(e.errorMsg))]):e._e()],1),t("div",{staticClass:"passwordSetBox"},[t("div",{staticClass:"left"},[t("el-checkbox",{model:{value:e.learnPaw,callback:function(t){e.learnPaw=t},expression:"learnPaw"}},[e._v(e._s(e.$t("login.rememberPwd")))])],1),t("div",{staticClass:"right"},[t("span",{staticClass:"ForgotPassword",on:{click:e.forgotPassword}},[e._v(e._s(e.$t("login.forgotPwd")+"?"))])])]),t("div",{staticClass:"btnbox"},[t("el-button",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"btn_login",staticStyle:{"min-width":"170px"},attrs:{type:"primary",disabled:e.domeUser},on:{click:e.login},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}}},[e._v(e._s(e.$t("login")))])],1),t("div",{staticClass:"SignUp_box"},[t("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.$t("login_account_tip")))]),t("span",{staticClass:"signup",on:{click:function(t){e.flag=!1}}},[e._v(e._s(e.$t("login.signUp")))])])],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.flag,expression:"!flag"}]},[t("div",{staticClass:"return",on:{click:e.returnLoginPage}},[t("i",{staticClass:"el-icon-arrow-left"}),e._v(" "+e._s(e.$t("return")))]),t("div",{staticClass:"text"},[e._v(e._s(e.$t("CreateNewAccount")))]),t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rulesForm}},[t("el-form-item",{attrs:{label:"",prop:"loginName"}},[t("i",{staticClass:"iconfont youxiang1 userIcon"}),t("el-input",{attrs:{autocomplete:"off",placeholder:e.$t("Please_enter_your_email_address")},model:{value:e.form.loginName,callback:function(t){e.$set(e.form,"loginName","string"===typeof t?t.trim():t)},expression:"form.loginName"}})],1),t("el-form-item",{class:1==e.VerifyPasswordFlag||2==e.VerifyPasswordFlag?"tipsActive":"",attrs:{label:"",prop:"password"}},[t("i",{staticClass:"iconfont mima userIcon"}),t("el-input",{attrs:{type:e.form.password?"password":"text",autocomplete:"off",placeholder:e.$t("login.pointPwd"),"show-password":!!e.form.password},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password","string"===typeof t?t.trim():t)},expression:"form.password"}})],1),1==e.VerifyPasswordFlag?t("ol",{staticClass:"tipsBox"},[t("i",{staticClass:"el-icon-info"}),t("li",{staticClass:"tips"},[t("b",[e._v(e._s(e.$t("register_pwd_contain_space1")))])]),t("li",{staticClass:"tips"},[t("b",[e._v(e._s(e.$t("register_pwd_contain_space2")))])])]):e._e(),t("el-form-item",{attrs:{label:"",prop:"repeatPaw"}},[t("i",{staticClass:"iconfont mima userIcon"}),t("el-input",{attrs:{type:e.form.repeatPaw?"password":"text",autocomplete:"off",placeholder:e.$t("login.js_sign_repwd"),"show-password":!!e.form.repeatPaw},model:{value:e.form.repeatPaw,callback:function(t){e.$set(e.form,"repeatPaw","string"===typeof t?t.trim():t)},expression:"form.repeatPaw"}})],1)],1),t("div",{ref:"markerIcon",staticClass:"clause"},[t("el-checkbox",{model:{value:e.form.agreementFlag,callback:function(t){e.$set(e.form,"agreementFlag",t)},expression:"form.agreementFlag"}},[t("span",{ref:"markerIcon1"},[e._v(e._s(e.$t("I.agree")))])]),t("p",[t("a",{ref:"markerIcon3",attrs:{href:e.termsHref,target:"_Blank"}},[e._v(e._s("《"+e.$t("termsOfUse")+"》"))]),t("a",{ref:"markerIcon2",attrs:{href:e.privacyHref,target:"_Blank"}},[e._v(e._s("《"+e.$t("solax.privacy")+"》"))])])],1),t("div",{staticClass:"btnbox"},[t("el-button",{class:e.form.loginName&&e.form.password&&e.form.repeatPaw&&e.form.password==e.form.repeatPaw?"SignUp_btn":"SignUp_btn_no",attrs:{type:e.buttonTrue?"primary":""},on:{click:e.save},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save.apply(null,arguments)}}},[e._v(e._s(e.$t("login.signUp")))])],1)],1)]),t("ul",{staticClass:"bottom_box"},[t("ul",{directives:[{name:"show",rawName:"v-show",value:e.showDownQr,expression:"showDownQr"}],staticClass:"appDownQrBox"},[e._m(1),e._m(2)]),t("li",[t("a",{attrs:{href:"javascript:;"},on:{mouseover:()=>{e.showDownQr=!0},mouseleave:()=>{e.showDownQr=!1}}},[e._v(e._s(e.$t("Download_APP")))]),t("div",{staticClass:"line_login"}),t("a",{attrs:{href:e.privacyHref,target:"_Blank"}},[e._v(e._s(e.$t("solax.privacy")))]),t("div",{staticClass:"line_login"}),t("a",{attrs:{href:e.termsHref,target:"_Blank"}},[e._v(e._s(e.$t("termsOfUse")))]),e.v5DemoAndHelpShow?t("div",{staticClass:"line_login"}):e._e(),e.v5DemoAndHelpShow?t("div",{staticClass:"pointer",on:{click:function(t){return e.helpevent("/manuals")}}},[e._v(e._s(e.$t("login.js_uesrGuide")))]):e._e()])])])]),e._m(3),t("div",{staticClass:"box_banquan"},[t("div",{staticClass:"police-info"},[t("span",{staticClass:"copyright"},[e._v(e._s(e.$t("login.copyright")))]),t("a",{attrs:{href:"https://beian.miit.gov.cn/",target:"_blank"}},[e._v("浙ICP备13004659号-3")]),t("img",{attrs:{src:r(74020)}}),t("a",{attrs:{target:"_blank",href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33012202330769"}},[e._v("浙公网安备 33012202330769号")])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showTestVersion,expression:"showTestVersion"}],staticStyle:{position:"absolute",bottom:"20px",right:"20px"}},[e._v("WH2023.12.00")]),e.domShow?t("ForgotPassword",{attrs:{width:"40%"}}):e._e(),e.visibleInfo?t("agree",{attrs:{agreeResData:e.agreeResData}}):e._e()],1)},o=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"text"},[t("span",[e._v("Welcome to ")]),t("span",{staticClass:"Solax"},[e._v(" Solax ")])])},function(){var e=this,t=e._self._c;return t("li",[t("img",{attrs:{src:r(35565),alt:""}}),t("p",[e._v("Android")])])},function(){var e=this,t=e._self._c;return t("li",[t("img",{attrs:{src:r(48170),alt:""}}),t("p",[e._v("IOS")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"titlebox"},[t("div",{staticClass:"text"})])}],i=(r(57658),r(30541),r(32130)),l=r.n(i),n=function(){var e=this,t=e._self._c;return t("div",[t("solax-tankuang",{attrs:{title:e.$t("login.forgotPwd"),width:e.$attrs.width,show:e.domShow},on:{close:e.close,confirm:e.confirm},scopedSlots:e._u([{key:"content",fn:function(){return[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loding,expression:"loding"}],ref:"form",attrs:{model:e.form,rules:e.rulesForm}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{placeholder:e.$t("Please_enter_username_email"),size:"small",disabled:e.userNameLocking},on:{blur:e.isOnlyUser},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username","string"===typeof t?t.trim():t)},expression:"form.username"}},[e.userNameList.length<=0&&e.OnlyUserNameLoading?t("template",{slot:"append"},[t("el-button",{attrs:{type:"primary",size:"small",disabled:e.sendFlag||e.notUser},on:{click:e.sendCode}},[e._v(e._s(e.countSendFlag?e.count+"s, "+e.$t("retry.after"):e.$t("Send.the.verification.code")))])],1):e._e()],2)],1),e.userNameList.length>0?t("el-form-item",{attrs:{prop:"checkUserName"}},[t("el-select",{staticStyle:{width:"80%","border-radius":"2px 0 0 2px"},attrs:{placeholder:e.$t("Please.select.an.account.that.has.forgotten.its.password"),size:"small",disabled:e.userNameLocking},model:{value:e.form.checkUserName,callback:function(t){e.$set(e.form,"checkUserName","string"===typeof t?t.trim():t)},expression:"form.checkUserName"}},e._l(e.userNameList,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1),t("el-button",{staticClass:"checkUserNameSendCode",staticStyle:{width:"20%","border-radius":"0 2px 2px 0","background-color":"#1f2432",color:"#ffc446"},attrs:{type:"primary",size:"small",disabled:e.sendFlag},on:{click:e.sendCode}},[e._v(e._s(e.countSendFlag?e.count+"s, "+e.$t("retry.after"):e.$t("Send.the.verification.code")))])],1):e._e(),t("el-form-item",{attrs:{prop:"code"}},[t("el-input",{attrs:{autocomplete:"off",placeholder:e.$t("user.updateUserName.msg_code_emp"),size:"small"},on:{input:e.checkCode},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),t("el-form-item",{attrs:{prop:"newPwd"}},[t("el-input",{attrs:{autocomplete:"off",placeholder:e.$t("user.msg_newPwd"),size:"small",type:e.form.newPwd?"password":"text","show-password":!!e.form.newPwd},model:{value:e.form.newPwd,callback:function(t){e.$set(e.form,"newPwd","string"===typeof t?t.trim():t)},expression:"form.newPwd"}})],1),1==e.VerifyPasswordFlag?t("ol",{staticClass:"tipsBox"},[t("i",{staticClass:"el-icon-info"}),t("li",{staticClass:"tips"},[t("b",[e._v(e._s(e.$t("register_pwd_contain_space1")))])]),t("li",{staticClass:"tips"},[t("b",[e._v(e._s(e.$t("register_pwd_contain_space2")))])])]):e._e(),t("el-form-item",{attrs:{prop:"reNewPwd"}},[t("el-input",{attrs:{autocomplete:"off",placeholder:e.$t("user.updatePassword.conPwd"),size:"small",type:e.form.reNewPwd?"password":"text","show-password":!!e.form.reNewPwd},model:{value:e.form.reNewPwd,callback:function(t){e.$set(e.form,"reNewPwd","string"===typeof t?t.trim():t)},expression:"form.reNewPwd"}})],1)],1)]},proxy:!0}])})],1)},c=[],m={name:"ForgotPassword",components:{},data(){return{showSetPaw:!1,checkCodeTime:"",form:{username:"",code:"",newPwd:"",reNewPwd:"",checkUserName:""},isOnlyUserName:!0,userNameList:[],userNameLocking:!1,count:60,outTime:"",sendFlag:!1,notUser:!1,countSendFlag:!1,rulesForm:{username:[{required:!0,message:this.$t("index_js_notNull"),trigger:"blur"}],code:[{required:!0,message:this.$t("index_js_notNull"),trigger:"blur"}],reNewPwd:[{required:!0,message:this.$t("index_js_notNull"),trigger:"blur"},{validator:this.pawConsistency,trigger:"change"}],newPwd:[{required:!0,message:this.$t("index_js_notNull"),trigger:"blur"},{validator:this.VerifyPassword,trigger:"blur"}],checkUserName:[{required:!0,message:this.$t("index_js_notNull"),trigger:"blur"}]},loding:!1,VerifyPasswordFlag:0,OnlyUserNameLoading:!1}},computed:{domShow(){return this.$store.state.forgotPassword}},mounted(){},methods:{VerifyPassword(e,t,s){let r=this.comm.regPassword(t);this.VerifyPasswordFlag=r,1==r||2==r?s(new Error(this.$t("Incorrect_password_format"))):0==r&&s()},async isOnlyUser(){if(!this.form.username)return;this.loding=!0,this.OnlyUserNameLoading=!1;let e=await this.API.isOnlyUser({loginName:this.form.username});this.OnlyUserNameLoading=!0,this.loding=!1,1==e.code?(this.userNameList=e.object,this.isOnlyUserName=!1):2==e.code?(this.elMessage(this.$t("Account.not.registered")),this.notUser=!0):(this.notUser=!1,this.isOnlyUserName=!0,this.userNameList=[])},async sendCode(){this.sendFlag=!0;let e={username:""};if(this.isOnlyUserName)e.username=this.form.username;else{if(!this.form.checkUserName)return this.sendFlag=!1,void this.elMessage(this.$t("Please.select.an.account.that.has.forgotten.its.password"),3);e.username=this.form.checkUserName}if(!e.username)return this.sendFlag=!1,void this.elMessage(this.$t("Please_enter_username_email"),3);e["domain"]=window.location.host,e["lang"]=window.localStorage.getItem("lang")||"en_US";let t=await this.API.sendCode(e);0==t.code?(this.elMessage(this.$t("Mail_sent_successfully"),0),this.userNameLocking=!0,this.countSendFlag=!0,this.outTime=setInterval((()=>{this.count<=0?(this.countSendFlag=!1,this.count=60,clearInterval(this.outTime),this.sendFlag=!1):(this.sendFlag=!0,this.count--)}),1e3)):1==t.code?(this.sendFlag=!1,this.elMessage(this.$t("Mailbox.sending.verification.failed"),3)):2==t.code?(this.sendFlag=!1,this.elMessage(this.$t("The.current.account.does.not.have.an.email.address.configured"),3)):3==t.code?(this.sendFlag=!1,this.elMessage(this.$t("login.js_email_sendError"),3)):(this.sendFlag=!1,this.elMessage(this.$t("Server.exception"),3))},pawConsistency(e,t,s){this.form.newPwd==t?s():s(new Error(this.$t("login.js_sign_repwd_error")))},confirm(){this.$refs.form.validate((e=>{if(!e)return!1;this.editPaw()}))},async editPaw(){let e=Object.assign({},this.form);this.form.checkUserName&&(e.username=this.form.checkUserName),delete e.checkUserName;let t=await this.API.editPaw(e);0==t.code?(this.elMessage(this.$t("Password.reset.complete"),0),this.close()):1==t.code?this.elMessage(this.$t("login.js_none_user"),3):2==t.code?this.elMessage(this.$t("The.parameter.is.invalid"),3):3==t.code?this.elMessage(this.$t("login.js_sign_repwd_error"),3):4==t.code?this.elMessage(this.$t("verification.code.is.empty"),3):5==t.code||11==t.code?this.elMessage(this.$t("login.js_error_code"),3):10==t.code?(this.elMessage(this.$t("Please_obtain_a_new_verification_code"),3),this.count=60,clearInterval(this.outTime),this.sendFlag=!1):this.elMessage(this.$t("Server.exception"),3)},checkCode(){clearTimeout(this.checkCodeTime),this.checkCode=setTimeout((()=>{""!=this.form.code&&(this.showSetPaw=!0)}),1e3)},close(){this.$store.commit("setForgotPassword",!1)}}},d=m,h=r(43736),g=(0,h.Z)(d,n,c,!1,null,"5039eadd",null),u=g.exports,p=function(){var e=this,t=e._self._c;return t("div",[t("el-popover",{attrs:{placement:"right",width:"100",trigger:"click","popper-class":"vhHeight"}},[t("ul",e._l(e.langItem,(function(s){return t("li",{key:s.value,on:{click:function(t){return e.langChange(s)}}},[e._v(e._s(s.label))])})),0),t("template",{slot:"reference"},[t("span",{staticClass:"text"},[e._v(e._s(e.checkLangLable)+" "),t("i",{staticClass:"el-icon-arrow-down",staticStyle:{"margin-left":"10px"}})])])],2)],1)},w=[],f=r(43146),_={name:"loginSelectLang",components:{},data(){return{checkLangLable:"English",langItem:f.A}},computed:{},created(){},mounted(){localStorage.getItem("lang")&&(this.checkLangLable=this.langItem.filter((e=>{if(e.value==localStorage.getItem("lang"))return e.label}))[0].label)},methods:{langChange(e){this.checkLangLable=e.label,localStorage.setItem("lang",e.value),localStorage.setItem("lan",e.value),window.location.reload()}},watch:{},updated(){},destroyed(){}},v=_,b=(0,h.Z)(v,p,w,!1,null,"4e4b7d42",null),y=b.exports,$=function(){var e=this,t=e._self._c;return t("div",[t("solaxTankuang",{attrs:{title:e.$t("protocol"),show:e.visibleInfo,confirmText:e.$t("agreement.IAgree"),cancelText:e.$t("agreement.IDisgree"),width:"80%"},on:{close:e.close,confirm:e.agree},scopedSlots:e._u([{key:"content",fn:function(){return[t("div",{staticStyle:{height:"500px"}},[t("el-tabs",[t("el-tab-pane",{attrs:{label:e.$t("termsOfUse")}},[t("iframe",{attrs:{src:e.termsHref,width:"100%",height:"450px"}})]),t("el-tab-pane",{attrs:{label:e.$t("solax.privacy")}},[t("iframe",{attrs:{src:e.privacyHref,width:"100%",height:"450px"}})])],1)],1)]},proxy:!0}])})],1)},P=[],S=r(71602),k=r.n(S),x={name:"agree",components:{},props:{agreeResData:{type:Object,default:()=>({})}},data(){return{}},computed:{toLink(){return"zh_CN"==window.localStorage.getItem("lang")},visibleInfo(){return this.$store.state.visibleInfo},privacyHref(){let e=localStorage.getItem("lang")||"en_US",t="";switch(e){case"zh_CN":t="https://www.solaxpower.com.cn/privacy-policy.html";break;case"ja_JP":t="https://www.solaxpower.jp/privacy-policy/";break;default:t="https://www.solaxpower.com/privacy-policy.html"}return t},termsHref(){let e=localStorage.getItem("lang")||"en_US",t="";switch(e){case"zh_CN":t="https://www.solaxpower.com.cn/terms-of-use.html";break;case"ja_JP":t="https://www.solaxpower.jp/terms-of-use/";break;default:t="https://www.solaxpower.com/terms-of-use.html"}return t}},created(){},mounted(){},methods:{close(){this.$store.commit("setVisibleInfo",!1)},async agree(){let e=await this.API.loginAgreeMents({id:this.agreeResData.user.ids,time:k()().format("YYYY-MM-DD HH:mm:ss"),domain:window.location.host});if(e.success){let e=this.agreeResData;sessionStorage.setItem("token",e.token),sessionStorage.setItem("loginURL",window.location),sessionStorage.setItem("loginTime",k()(new Date).format("YYYY-MM-DD HH:mm:ss")),sessionStorage.setItem("userObj",JSON.stringify(e.user)),localStorage.setItem("userId",e.user.ids),localStorage.setItem("userType",e.user.userType);let t=e.user.userType;if(this.$store.commit("setUserType",e.user.userType),5!=t)if(e.user.hasOwnProperty("webPath")&&e.user.webPath&&"null"!=e.user.webPath){let t=`${location.protocol}//${location.host}/${e.user.webPath}/#/home`;window.location.replace(t)}else{let e=`${location.protocol}//${location.host}/4/#/home`;window.location.replace(e)}else this.isAacitve(e);this.$store.commit("setVisibleInfo",!1)}},async isAacitve(e){let t=await this.API.isAacitve({domain:window.location.host,lang:window.localStorage.getItem("lang")});function s(t){let s="",r="";e.user.hasOwnProperty("webPath")&&e.user.webPath&&"null"!=e.user.webPath&&(s=`/${e.user.webPath}`);let a=JSON.parse(sessionStorage.getItem("userPageVersion"))||!1;a||(r="/4"),sessionStorage.removeItem("userPageVersion"),window.location.replace(`${location.protocol}//${location.host}${s}${r}/#${t}`)}localStorage.setItem("actionObject",t.object),localStorage.setItem("actionCode",0),0==t.code?s("/home"):2==t.code?this.elMessage(this.$t("login.js_email_sendError"),3):1==t.code&&s("/active")}},watch:{},updated(){},destroyed(){}},N=x,I=(0,h.Z)(N,$,P,!1,null,"484ac9d4",null),F=I.exports,U=function(){var e=this,t=e._self._c;return t("div",[t("el-popover",{attrs:{placement:"right",width:"100",trigger:"click"}},[t("ul",[t("li",{on:{click:function(t){return e.downGuide(1)}}},[e._v(e._s(e.$t("login.js_uesrGuide_new")))]),t("li",{on:{click:function(t){return e.downGuide(2)}}},[e._v(e._s(e.$t("login.js_uesrGuide_new_app")))]),t("li",{on:{click:function(t){return e.downGuide(3)}}},[e._v(e._s(e.$t("wifi-connect-guid")))])]),t("template",{slot:"reference"},[t("span",{staticClass:"text"},[e._v(e._s(e.$t("login.js_uesrGuide"))+" "),t("i",{staticClass:"iconfont icon-jiantou_liebiaoxiangyou_o"})])])],2)],1)},C=[],A={name:"userguide",components:{},data(){return{}},computed:{},created(){},mounted(){},methods:{downGuide(e){let t=localStorage.getItem("lang")||"en_US",s="";if(1==e)switch(t){case"zh_CN":s="/guide/Solaxcloud_Web_User_Guide_V3.2_Enduser_CN_2022.05.27.pdf";break;case"en_US":s="/guide/Solaxcloud_Web_User_Guide_V3.2_Enduser_EN_2022.05.27.pdf";break;case"ja_JP":s="/guide/Solaxcloud_Web_User_Guide_V3.2_Enduser_JP_20230316.pdf";break;default:s="/guide/Solaxcloud_Web_User_Guide_V3.2_Enduser_EN_2022.05.27.pdf"}else if(2==e)switch(t){case"zh_CN":s="/guide/Solaxcloud_APP_User_Guide_V4.3_Enduser_CN_2022.05.27.pdf";break;case"en_US":s="/guide/Solaxcloud_APP_User_Guide_V4.3_Enduser_EN_2022.05.27.pdf";break;case"ja_JP":s="/guide/Solaxcloud_APP_User_Guide_V4.3_Enduser_JP_20230316.pdf";break;default:s="/guide/Solaxcloud_APP_User_Guide_V4.3_Enduser_EN_2022.05.27.pdf"}else 3==e&&this.comm.windowOpenPage("wifiSetting/index.html");s&&this.comm.windowOpenPage(s,!1)}},watch:{},updated(){},destroyed(){}},O=A,L=(0,h.Z)(O,U,C,!1,null,"6099da68",null),M=L.exports;let j=null;var E={components:{ForgotPassword:u,loginSelectLang:y,agree:F,userguide:M},data(){return{loginForm:{username:"",password:"",checkUsername:""},userNameList:[],isOnlyUserName:!0,formRules:{username:[{required:!0,message:this.$t("index_js_notNull"),trigger:"change"},{validator:this.checkUserDEMO,trigger:"change"}],password:[{required:!0,message:this.$t("index_js_notNull"),trigger:"change"}]},agreeResData:"",errorMsg:"",learnPaw:!1,pawlistShow:!1,domeUser:!1,form:{loginName:"",password:"",repeatPaw:"",agreementFlag:0},rulesForm:{loginName:[{required:!0,message:this.$t("index_js_notNull"),trigger:"blur"},{validator:this.regEmail,trigger:"change"},{validator:this.isOnlyUserNameReg,trigger:"blur"}],password:[{required:!0,message:this.$t("index_js_notNull"),trigger:"blur"},{validator:this.VerifyPassword,trigger:"blur"}],repeatPaw:[{required:!0,message:this.$t("index_js_notNull"),trigger:"blur"},{validator:this.pawConsistency,trigger:"change"}]},tableFlag:[!1,!1,!1,!1],flag:!0,pwdList:[],v5DemoAndHelpShow:!1,userNameInputTimeObj:null,VerifyPasswordFlag:0,showDownQr:!1}},computed:{showTestVersion(){return-1!=location.host.indexOf(":")},domShow(){return this.$store.state.forgotPassword},visibleInfo(){return this.$store.state.visibleInfo},lang(){return localStorage.getItem("lang")||"en_US"},buttonTrue(){let e=this.tableFlag.filter((e=>1==e));return 4==e.length},privacyHref(){let e=localStorage.getItem("lang")||"en_US",t="";switch(e){case"zh_CN":t="https://www.solaxpower.com.cn/privacy-policy.html";break;case"ja_JP":t="https://www.solaxpower.jp/privacy-policy/";break;default:t="https://www.solaxpower.com/privacy-policy.html"}return t},termsHref(){let e=localStorage.getItem("lang")||"en_US",t="";switch(e){case"zh_CN":t="https://www.solaxpower.com.cn/terms-of-use.html";break;case"ja_JP":t="https://www.solaxpower.jp/terms-of-use/";break;default:t="https://www.solaxpower.com/terms-of-use.html"}return t}},watch:{"form.password":{handler(e){e&&e.length>=6&&e.length<=20?this.tableFlag.splice(1,1,!0):this.tableFlag.splice(1,1,!1)},deep:!0},"form.agreementFlag":{handler(e){e?this.tableFlag.splice(3,1,!0):this.tableFlag.splice(3,1,!1)},deep:!0},"loginForm.username":{handler(e){e&&(j&&clearTimeout(j),j=setTimeout((()=>{this.getUserVersion()}),500))},deep:!0}},mounted(){this.getServerLocation(),this.getPwdList(),sessionStorage.clear(),this.$route.query.replace&&(this.elMessage(this.$t("The_system_has_been_updated_please_log_in_to_use_the_new_version"),2),this.$router.replace({query:{}})),1==this.$route.query.resetpassword&&(this.elMessage(this.$t("Login_expired_please_log_in_again"),3),this.$router.replace({query:{}}))},methods:{VerifyPassword(e,t,s){let r=this.comm.regPassword(t);this.VerifyPasswordFlag=r,1==r||2==r?s(new Error(this.$t("Incorrect_password_format"))):0==r&&s()},getPwdList(){let e=localStorage.getItem("pwdList")||[];try{JSON.parse(e);"undefined"!=e&&"null"!=e||localStorage.removeItem("pwdList"),localStorage.removeItem("pwdList"),this.pwdList=[]}catch(t){this.pwdList=this.comm.pwdListJIEMI(localStorage.getItem("pwdList"))}},checkUserDEMO(e,t,s){if("guest"==t)return s(new Error(this.$t("login.show-err"))),void(this.domeUser=!0);this.domeUser=!1,s()},showPaw(){this.pwdList.length>0&&(this.pawlistShow=!0)},heidenPaw(e){e?(setTimeout((()=>{this.pawlistShow=!1}),1e3*e),.2==e&&this.isOnlyUser()):this.pawlistShow=!1},async isOnlyUser(){if(!this.loginForm.username)return;let e=await this.API.isOnlyUser({loginName:this.loginForm.username});1==e.code?(this.userNameList=e.object||[],this.isOnlyUserName=!1):2===e.code?this.errorMsg=this.$t("login.js_error_id"):500===e.code?this.errorMsg=this.$t("Program_exception"):(this.isOnlyUserName=!0,this.userNameList=[],this.getUserVersion())},getUserVersion(){if(!this.loginForm.username)return;let e=JSON.parse(localStorage.getItem("UVD"))||[];"null"==e||"undefined"==e||e.length<=0||!e?this.loginNewQueryVerFlag():this.findUserVersion(e)},findUserVersion(e){if(this.solaxTypeOf.isArray(e)&&e.length>0){let t=e.filter((e=>e.username==(this.isOnlyUserName?this.loginForm.username:this.loginForm.checkUsername)));t[0]?this.v5DemoAndHelpShow=2==t[0].version:this.loginNewQueryVerFlag()}else this.loginNewQueryVerFlag()},async loginNewQueryVerFlag(){let e=await this.API.loginNewQueryVerFlag({loginName:this.isOnlyUserName?this.loginForm.username:this.loginForm.checkUsername});if(0==e.code){let t=JSON.parse(localStorage.getItem("UVD"))||[];"null"!=t||"undefined"!=t||t.length>0?t.push({username:this.isOnlyUserName?this.loginForm.username:this.loginForm.checkUsername,version:e.object}):t=[{username:this.isOnlyUserName?this.loginForm.username:this.loginForm.checkUsername,version:e.object}],localStorage.setItem("UVD",JSON.stringify(t)),this.getUserVersion()}},checkPaw(e){this.loginForm.username=e.username,this.loginForm.password=e.password,this.learnPaw=!!e.hasOwnProperty("learnPaw")&&e.learnPaw,this.pawlistShow=!1,this.isOnlyUser()},removerPaw(e){this.pwdList.splice(e,1),0==this.pwdList.length?localStorage.removeItem("pwdList"):localStorage.setItem("pwdList",this.comm.pwdListEncrypt(this.pwdList))},forgotPassword(){this.$store.commit("setForgotPassword",!0)},helpevent(e){localStorage.setItem("help_1",1),this.$router.push(e)},goLink(e){this.$router.push(e)},async login(){if(!this.loginForm.username)return void this.elMessage(this.$t("user.msg_none_loginName"),3);this.loginForm.password||this.elMessage(this.$t("user.msg_none_pwd"),3);let e=Object.assign({},this.loginForm);if(e.userpwd=l()(e.password),delete e.password,!this.isOnlyUserName){if(!this.loginForm.checkUsername)return void this.elMessage(this.$t("Please_select_a_login_account"),3);e.username=this.loginForm.checkUsername,delete e.checkUsername}let t=await this.API.loginin(e);if(t){let s=t.loginCode;if(t.success)switch(localStorage.setItem("help_1",2),localStorage.setItem("userType",t.user.userType),this.errorMsg="",Number(s)){case 0:this.comm.loginSuccessFn(t),this.$store.commit("setuserDemo","0"),this.isAacitve(t),this.rememberPassword(e),this.$store.commit("setTempType",t.user.tempType),this.$store.commit("setUserType",t.user.userType);break;case 6:sessionStorage.setItem("userPageVersion",JSON.stringify(this.v5DemoAndHelpShow)),this.agreeResData=t,this.$store.commit("setVisibleInfo",!0),this.rememberPassword(e);break}else switch(Number(s)){case 2:this.errorMsg=this.$t("login.js_none_user");break;case 3:this.errorMsg=this.$t("login.js_error_pwd")+" "+t.surplusTimes;break;case 4:this.errorMsg=this.$t("login.js_error_loginTime");break;case 5:this.errorMsg=this.$t("login.js_error_id");break;case 6:sessionStorage.setItem("userPageVersion",JSON.stringify(this.v5DemoAndHelpShow)),this.agreeResData=t,this.$store.commit("setVisibleInfo",!0),this.rememberPassword(e);break;case 7:this.errorMsg=this.$t("login.js_firm_isdeleted");break}}else this.elMessage(this.$t("Server.exception"),3)},rememberPassword(e){let t={username:e.username,password:this.loginForm.password,learnPaw:!0},s=localStorage.getItem("pwdList")||"",r=[];"undefined"!=s&&"null"!=s||(localStorage.removeItem("pwdList"),s="");try{JSON.parse(s);localStorage.removeItem("pwdList"),s=""}catch{s&&(r=this.comm.pwdListJIEMI(s)),this.learnPaw?(r.forEach(((t,s)=>{e.username==t.username&&r.splice(s,1)})),r.unshift(t)):r.forEach(((t,s)=>{e.username==t.username&&r.splice(s,1)})),localStorage.setItem("pwdList",this.comm.pwdListEncrypt(r)),localStorage.setItem("rememberFlag",JSON.stringify(this.learnPaw))}},async isAacitve(e){let t=await this.API.isAacitve({domain:window.location.host,lang:window.localStorage.getItem("lang")});if(localStorage.setItem("actionObject",t.object),localStorage.setItem("actionCode",0),0==t.code)if(e.user.hasOwnProperty("webPath")&&e.user.webPath&&"null"!=e.user.webPath){let t="";t=this.v5DemoAndHelpShow?`${location.protocol}//${location.host}/${e.user.webPath}/#/home`:`${location.protocol}//${location.host}/${e.user.webPath}/4/#/home`,window.location.replace(t)}else this.siteExist(),this.v5DemoAndHelpShow?this.$router.push("/home"):window.location.replace(`${location.protocol}//${location.host}/4/#/home`);else if(2==t.code)this.elMessage(this.$t("login.js_email_sendError"),3);else if(1==t.code)if(e.user.hasOwnProperty("webPath")&&e.user.webPath&&"null"!=e.user.webPath){let t="";t=this.v5DemoAndHelpShow?`${location.protocol}//${location.host}/${e.user.webPath}/#/active`:`${location.protocol}//${location.host}/${e.user.webPath}/4/#/active`,window.location.replace(t)}else this.v5DemoAndHelpShow?this.$router.push("/active"):window.location.replace(`${location.protocol}//${location.host}/4/#/active`)},async handleCommand(e){if(1==e){let e=await this.API.loginin({username:"guest",userpwd:l()("solax123456")});e.success?(this.comm.loginSuccessFn(e),sessionStorage.setItem("userDemo","1"),this.$store.commit("setuserDemo","1"),this.$router.push({path:"/home"})):this.errorMsg=this.$t("example-user-login-fail")}2==e&&this.comm.windowOpenPage("wifiSetting/index.html")},async getServerLocation(){let e=await this.API.getServerLocation({});e?(localStorage.setItem("mapType",e),sessionStorage.setItem("mapType",e)):null==localStorage.getItem("mapType")&&(localStorage.setItem("mapType",2),sessionStorage.setItem("mapType",2)),2!=e&&"null"!=JSON.stringify(e)&&e?document.title="艾罗新能源远程监控系统":(this.comm.createGoogleMapJSONP(),document.title="Solax Cloud System")},async isOnlyUserNameReg(e,t,s){let r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(r.test(t)){let e=await this.API.isOnlyUserName({username:t});0==e?(s(),this.tableFlag.splice(0,1,!0)):(s(new Error(this.$t("login.js_sign_userName_exist"))),this.tableFlag.splice(0,1,!1))}else s(new Error(this.$t("alarmSend.fillEmailError"))),this.tableFlag.splice(0,1,!1)},regEmail(e,t,s){let r=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,6})$/;r.test(t)?(s(),this.tableFlag.splice(0,1,!0)):(s(new Error(this.$t("alarmSend.fillEmailError"))),this.tableFlag.splice(0,1,!1))},pawConsistency(e,t,s){this.form.password==t?(s(),this.tableFlag.splice(2,1,!0)):(s(new Error(this.$t("login.js_sign_repwd_error"))),this.tableFlag.splice(2,1,!1))},save(){this.$refs.form.validate((e=>{if(!e)return!1;this.form.agreementFlag?this.register():(this.$refs.markerIcon.style="animation: shakeX 1s 1;",this.$refs.markerIcon1.style="color:#fdc049;",this.$refs.markerIcon2.style="color:#fdc049;",this.$refs.markerIcon3.style="color:#fdc049;",t&&clearInterval(t),t=setTimeout((()=>{this.$refs.markerIcon.style="",this.$refs.markerIcon1.style="",this.$refs.markerIcon2.style="",this.$refs.markerIcon3.style=""}),1e3))}))},async register(){delete this.form.repeatPaw;let e=Object.assign({},this.form,{domain:window.location.host});e.agreementFlag=Number(e.agreementFlag),e.password=l()(e.password);let t=await this.API.loginNewReg(e);0===t.code?(this.elMessage("Welcome to SolaX Cloud",0),this.loginin()):1===t.code?this.elMessage(this.$t("login.js_sign_userName_exist"),3):2===t.code||500===t.code?this.elMessage(this.$t("Server.exception"),3):4===t.code&&this.elMessage(this.$t("login.js_error_code"),3)},async loginin(){let e=Object.assign({},this.form);e.userpwd=l()(e.password),e.username=e.loginName,delete e.password,delete e.loginName;let t=await this.API.loginin(e);t=t||{},"0"==t.loginCode?(this.comm.loginSuccessFn(t),this.isAacitve(t)):this.$router.push("/login")},async siteExist(){let e=await this.API.siteExist();this.$store.commit("setSiteExistFlag",e)},returnLoginPage(){this.flag=!0,this.form.loginName="",this.form.password="",this.form.repeatPaw="",this.form.agreementFlag=0,this.VerifyPasswordFlag=0,this.$refs.form.resetFields()}}},V=E,T=(0,h.Z)(V,a,o,!1,null,"3eeab426",null),D=T.exports},43146:function(e,t,s){s.d(t,{A:function(){return r}});const r=[{label:"English",value:"en_US"},{label:"简体中文",value:"zh_CN"},{label:"Deutsch",value:"de_DE"},{label:"Italiano",value:"it_IT"},{label:"Français",value:"fr_FR"},{label:"Nederlands",value:"nl_NL"},{label:"русский",value:"ru_RU"},{label:"Español",value:"es_ES"},{label:"Slovenčina",value:"sk_SK"},{label:"Português",value:"pt_BR"},{label:"Čeština",value:"cs_CZ"},{label:"Polski",value:"pl_PL"},{label:"日本語",value:"ja_JP"},{label:"Română",value:"ro_RO"},{label:"ქართული",value:"ka_GE"},{label:"Suomi",value:"fi_FI"},{label:"Türkçe",value:"tr_TR"},{label:"България",value:"bg_BG"},{label:"lietuvių",value:"lt_LT"},{label:"українська",value:"uk_UA"},{label:"Magyar",value:"hu_HU"},{label:"ภาษาไทย",value:"th_TH"}]},35565:function(e,t,s){e.exports=s.p+"img/app_android.1547fc49.png"},48170:function(e,t,s){e.exports=s.p+"img/app_ios.30113ac7.png"},53122:function(e,t,s){e.exports=s.p+"img/logo_write.e11bbde4.png"},74020:function(e,t,s){e.exports=s.p+"img/police.ef881569.png"},74105:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAS9JREFUSEvNlbtKxUAQhv8ZiAQsbX0ArQKbYKEgFlY+QLAULMTexsLmFMdGbMXC57ARBDszbjBF0CadraUQDGRkvRSCnmMSF86Uy87/zY0Zgmcjz/p4BxRFMd80zT4RbQJYAD7ee5gCeFbVqyAIzqIoeqGyLOfqur4AsNxDcJLLQxiGuyQi28x8QERPqnpojHkkIhdJZ1NVyvN8iYiOVXWxbdsTstaeAlgnoiNjzGVn1R8cRGSLmUcAbhzgHEAMYC+OY/sfAGut03O6dnYAWZatMrMkSdJMy7JzBiKywsy3qnrPzDvGmGISpA9gg5mvP0VfAYxVdfxbNkMBX8HfVVW1lqapA36zmQd4KZHfJrsCex3TaXM/uMlDAX6Xnfd17f3geD+ZXRvY9X/f4/5nzhsXdRiO/ATlkgAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=3959.d6f80b15.js.map